# Proxy reverso para API do backend
RewriteEngine On

# Proxy para API (com barra)
RewriteCond %{REQUEST_URI} ^/api/(.*)$
RewriteRule ^api/(.*)$ http://localhost:3000/api/$1 [P,L]

# Proxy para API (sem barra final)
RewriteCond %{REQUEST_URI} ^/api$
RewriteRule ^api$ http://localhost:3000/api [P,L]

# Pagina de erro 404
ErrorDocument 404 /index.html

# Habilitar compressao
AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css text/javascript application/javascript

# Cache de arquivos estaticos
ExpiresActive On
ExpiresByType image/jpg "access plus 1 year"
ExpiresByType image/jpeg "access plus 1 year"
ExpiresByType image/gif "access plus 1 year"
ExpiresByType image/png "access plus 1 year"
ExpiresByType image/webp "access plus 1 year"
ExpiresByType text/css "access plus 1 month"
ExpiresByType application/javascript "access plus 1 month"